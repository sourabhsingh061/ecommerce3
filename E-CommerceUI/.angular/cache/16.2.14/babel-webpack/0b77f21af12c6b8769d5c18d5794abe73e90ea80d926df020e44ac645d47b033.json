{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let ProductlistComponent = class ProductlistComponent {\n  constructor(httpService, router, route) {\n    this.httpService = httpService;\n    this.router = router;\n    this.route = route;\n    this.endpoint = \"http://localhost:8080/Product/search\";\n    this.categoriesEndpoint = \"http://localhost:8080/Product/preload\";\n    this.form = {\n      data: {},\n      pageNo: 0,\n      searchParams: {\n        name: '',\n        category: ''\n      },\n      list: [],\n      categories: [],\n      next: 0\n    };\n    this.inputerror = {};\n    this.message = '';\n  }\n  ngOnInit() {\n    this.loadCategories();\n    this.search();\n  }\n  loadCategories() {\n    this.httpService.get(this.categoriesEndpoint, res => {\n      if (res.result && res.result.categories) {\n        this.form.categories = res.result.categories;\n        console.log(\"form.category\", this.form.categories);\n      }\n    });\n  }\n  search() {\n    var self = this;\n    console.log(\"search method\");\n    const searchParams = {\n      name: this.form.searchParams.name.trim(),\n      category: self.form.searchParams.category\n    };\n    this.httpService.post(this.endpoint + \"/\" + this.form.pageNo, searchParams, res => {\n      if (res.result.inputerror) {\n        this.inputerror = res.result.inputerror;\n      }\n      if (res.result.DATA) {\n        this.form.list = res.result.DATA;\n        this.form.nextList = res.result.nextList;\n      }\n    });\n  }\n  viewDetails(productId) {\n    // Implement navigation to product details page\n    console.log('View details for product ID:', productId);\n  }\n  addToCart(productId) {\n    var self = this;\n    this.httpService.post(\"http://localhost:8080/Cart/save\", this.form.getId, res => {\n      if (res.success) {\n        this.router.navigate(['/cart']); // Navigate to cart page\n      } else {\n        console.error(res.message); // Handle error case\n      }\n    });\n  }\n\n  previousPage() {\n    if (this.form.pageNo > 0) {\n      this.form.pageNo--;\n      this.search();\n    }\n  }\n  nextPage() {\n    this.form.pageNo++;\n    this.search();\n  }\n};\nProductlistComponent = __decorate([Component({\n  selector: 'app-productlist',\n  templateUrl: './productlist.component.html',\n  styleUrls: ['./productlist.component.css']\n})], ProductlistComponent);","map":{"version":3,"names":["Component","ProductlistComponent","constructor","httpService","router","route","endpoint","categoriesEndpoint","form","data","pageNo","searchParams","name","category","list","categories","next","inputerror","message","ngOnInit","loadCategories","search","get","res","result","console","log","self","trim","post","DATA","nextList","viewDetails","productId","addToCart","getId","success","navigate","error","previousPage","nextPage","__decorate","selector","templateUrl","styleUrls"],"sources":["E:\\FrontEnd\\E-CommerceUI\\src\\app\\productlist\\productlist.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { HttpServiceService } from '../services/http-service.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-productlist',\n  templateUrl: './productlist.component.html',\n  styleUrls: ['./productlist.component.css']\n})\nexport class ProductlistComponent implements OnInit {\n  endpoint = \"http://localhost:8080/Product/search\";\n  categoriesEndpoint = \"http://localhost:8080/Product/preload\";\n  form: any = {\n    data: {},\n    pageNo: 0,\n    searchParams: { name: '', category: '' },\n    list: [],\n    categories: [],\n    next:0\n  };\n  inputerror: { [key: string]: string } = {};\n  message = '';\n\n  constructor(private httpService: HttpServiceService ,  private router: Router, private route: ActivatedRoute) { }\n\n  ngOnInit() {\n    this.loadCategories();\n    this.search();\n  }\n\n  loadCategories() {\n    this.httpService.get(this.categoriesEndpoint, (res: any) => {\n      if (res.result && res.result.categories) {\n        this.form.categories = res.result.categories;\n        console.log(\"form.category\" , this.form.categories)\n      }\n    });\n  }\n\n  search() {\n    var self = this;\n    console.log(\"search method\")\n    const searchParams = {\n      name: this.form.searchParams.name.trim(),\n      category: self.form.searchParams.category\n    };\n\n    this.httpService.post(this.endpoint + \"/\" + this.form.pageNo, searchParams, (res: any) => {\n      if (res.result.inputerror) {\n        this.inputerror = res.result.inputerror;\n      }\n      if (res.result.DATA) {\n        this.form.list = res.result.DATA;\n        this.form.nextList = res.result.nextList;\n      }\n    });\n  }\n\n  viewDetails(productId: number) {\n    // Implement navigation to product details page\n    console.log('View details for product ID:', productId);\n  }\n\n  addToCart(productId: number) {\n    var self = this;\n    this.httpService.post(\"http://localhost:8080/Cart/save\" ,this.form.getId,(res:any)=>{\n      if (res.success) {\n        this.router.navigate(['/cart']); // Navigate to cart page\n      } else {\n        console.error(res.message); // Handle error case\n      }\n    })\n  }\n  \n\n  previousPage() {\n    if (this.form.pageNo > 0) {\n      this.form.pageNo--;\n      this.search();\n    }\n  }\n\n  nextPage() {\n    this.form.pageNo++;\n    this.search();\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}